!function(e){function t(e,t){var a;return a=e.attr("data-type"),i[a]?i[a](e,t):i._default(e,t,a)}function a(a,n,i){var i=i||"> .acf-field, > .acf-fields > .acf-field",c=a.find(i),d=n.find(i);c.each(function(a,n){return d[a]?e(c[a]).data("type")!==e(d[a]).data("type")?(console.trace("Error: source field type does not match destination field type"),!1):void t(e(c[a]),e(d[a])):(console.trace("Error: source fields do not match destination fields"),!1)})}var n=acf_duplicate_repeater.options,i={_default:function(t,a,n){var i=t.find('[type="'+n+'"]');acf.getField(t),acf.getField(a);a.find('[type="'+n+'"]').each(function(t,a){e(this).val(e(i[t]).val())})},button_group:function(t,a){var n=a.find('[type="radio"]');t.find('[type="radio"]').each(function(t,a){if(e(a).prop("checked"))return e(n[t]).trigger("click"),!1})},checkbox:function(t,a){var n=a.find('[type="checkbox"]');t.find('[type="checkbox"]').each(function(t,a){e(n[t]).prop("checked",e(a).prop("checked"))})},color_picker:function(e,t){var a=acf.getField(e),n=acf.getField(t),i=a.$inputText().val();n.$inputText().iris("option","color",i)},date_picker:function(e,t){i._default(e,t,"text"),i._default(e,t,"hidden")},date_time_picker:function(e,t){i._default(e,t,"text"),i._default(e,t,"hidden")},file:function(e,t){var a=e.find(".acf-file-uploader"),n=t.find(".acf-file-uploader");i._default(e,t,"hidden"),a.hasClass("has-value")&&(n.find("div").first().html(a.find("div").first().html()),t.find(".acf-file-uploader").addClass("has-value"))},flexible_content:function(t,n){var i=acf.getField(t),c=acf.getField(n);i.$layouts().each(function(t,n){var i,d=e(n);c.add({layout:d.data("layout")}),i=c.$layouts().last(),a(d,i,"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field")})},gallery:function(t,a){var n=t.find(".acf-gallery-attachments"),i=a.find(".acf-gallery-attachments"),c=a.find('input[type="hidden"]'),d=c.attr("name")+"[]";n.children().each(function(t,a){$clone=e(a).clone(),$clone.find('[type="hidden"]').attr("name",d),i.append($clone)})},google_map:function(e,t){var a=acf.getField(e);acf.getField(t).setValue(a.getValue())},group:function(e,t){a(e,t,"> .acf-input > .acf-table > tbody > .acf-row > .acf-field, > .acf-input > .acf-fields > .acf-field")},image:function(e,t){i._default(e,t,"hidden"),t.find("img").attr("src",e.find("img").attr("src")),e.find(".acf-image-uploader").hasClass("has-value")&&t.find(".acf-image-uploader").addClass("has-value")},link:function(e,t){var a=e.find(".link-node"),n=t.find(".link-node");n.html(a.html()),n.attr("href",a.attr("href")),n.attr("target",a.attr("target")),n.trigger("change")},oembed:function(e,t){t.find('[data-name="search-input"]').val(e.find('[type="hidden"]').val()).trigger("blur")},post_object:function(e,t){i.select(e,t)},radio:function(e,t){i.button_group(e,t),i._default(e,t,"text")},range:function(e,t){i._default(e,t,"range"),i._default(e,t,"number")},relationship:function(t,a){var n=a.find(".values > .list"),i=a.find(".acf-relationship").children('input[type="hidden"]'),c=i.attr("name")+"[]";t.find(".values > .list").children().each(function(t,a){var i=e(a).clone();i.find('[type="hidden"]').attr("name",c),n.append(i)}),i.trigger("change")},repeater:function(t,n){var i=acf.getField(t),c=acf.getField(n);i.$rows().each(function(t,n){$new_row=c.add(),a(e(n),$new_row,"> .acf-field, > .acf-fields > .acf-field")})},select:function(t,a,n){n=n||" > .acf-input > select";var i=t.find(n),c=a.find(n);1*i.data("ui")&&(c.html(""),i.find("option").each(function(t,a){c.append(e(a).clone())})),$destOpts=c.find("option"),i.find("option").each(function(t,a){e($destOpts[t]).prop("selected",e(a).prop("selected"))})},taxonomy:function(e,t){i.radio(e,t),i.checkbox(e,t),i.select(e,t,"> .acf-input > .acf-taxonomy-field > select")},textarea:function(e,t){t.find("textarea").val(e.find("textarea").val())},time_picker:function(e,t){i._default(e,t,"text"),i._default(e,t,"hidden")},true_false:function(e,t){t.find('[type="checkbox"]').prop("checked",e.find('[type="checkbox"]').prop("checked")),t.find('[type="checkbox"]').trigger("change")},user:function(e,t){i.select(e,t)},wysiwyg:function(e,t){var a,n=acf.getField(e),i=acf.getField(t),c=i.$input().attr("id"),d=n.getValue();a=tinymce.get(c),a?a.setContent(d):i.$input().html(d)}},c=function(t,a){var n=e.extend({},t);return e.each(a,function(a,i){if(console.log(a,t.hasOwnProperty(a)),void 0!==t[a]){if("events"===a)return void(t.events=e.extend(t.events,i));"function"==typeof i&&(n[a]=t[a])}t[a]=i}),t.parent=n,t};c(acf.models.FlexibleContentField.prototype,{events:{'click [data-name="duplicate-layout"]':"_duplicate"},render:function(){var t;return t=this.parent.render.apply(this,arguments),this.$layouts().each(function(t,a){e(this).find('[data-name="duplicate-layout"]').length||e(this).find(".acf-fc-layout-controls").prepend(n.duplicate_flexible_btn)}),t},_duplicate:function(t){var n,i;n=e(t.target).closest(".layout"),n.closest(".acf-field"),this.add({layout:n.data("layout"),before:n}),i=n.prev(".layout"),a(n,i,"> .acf-table > tbody > .acf-row > .acf-field, > .acf-fields > .acf-field")}}),c(acf.models.RepeaterField.prototype,{events:{'click a[data-event="duplicate-row"]':"_duplicate"},render:function(){var t;return t=this.parent.render.apply(this,arguments),this.$rows().each(function(t){e(this).find("> td.remove").append(n.duplicate_repeater_btn)}),t},_duplicate:function(t){var n,i;e(t.target).hasClass("acf-icon")&&(n=e(t.target).closest(".acf-row"),i=this.add({before:n}),a(n,i))}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcGVhdGVyLWR1cGxpY2F0ZS5qcyJdLCJuYW1lcyI6WyIkIiwiY29weV92YWx1ZSIsIiRzcmMiLCIkZGVzdCIsInR5cGUiLCJhdHRyIiwiY29weV92YWx1ZV9jYiIsIl9kZWZhdWx0IiwiY29weV92YWx1ZXMiLCJfc2VsZWN0b3IiLCIkc291cmNlcyIsImZpbmQiLCIkZGVzdHMiLCJlYWNoIiwiaSIsImVsIiwiZGF0YSIsImNvbnNvbGUiLCJ0cmFjZSIsIm9wdGlvbnMiLCJhY2ZfZHVwbGljYXRlX3JlcGVhdGVyIiwiJHNyY2VzIiwiYWNmIiwiZ2V0RmllbGQiLCJ0aGlzIiwidmFsIiwiYnV0dG9uX2dyb3VwIiwiJGRlc3RSYWRpbyIsInByb3AiLCJ0cmlnZ2VyIiwiY2hlY2tib3giLCIkZGVzdENCIiwiY29sb3JfcGlja2VyIiwic3JjRmllbGQiLCJkZXN0RmllbGQiLCIkaW5wdXRUZXh0IiwiaXJpcyIsImRhdGVfcGlja2VyIiwiZGF0ZV90aW1lX3BpY2tlciIsImZpbGUiLCIkc3JjVXBsIiwiJGRlc3RVcGwiLCJoYXNDbGFzcyIsImZpcnN0IiwiaHRtbCIsImFkZENsYXNzIiwiZmxleGlibGVfY29udGVudCIsIiRsYXlvdXRzIiwibGF5b3V0IiwiJG5ld19sYXlvdXQiLCIkbGF5b3V0IiwiYWRkIiwibGFzdCIsImdhbGxlcnkiLCIkc3JjTGlzdCIsIiRkZXN0TGlzdCIsIiRpbnB1dCIsIm5hbWUiLCJjaGlsZHJlbiIsIiRjbG9uZSIsImNsb25lIiwiYXBwZW5kIiwiZ29vZ2xlX21hcCIsInNldFZhbHVlIiwiZ2V0VmFsdWUiLCJncm91cCIsImltYWdlIiwibGluayIsIiRzcmNOb2RlIiwiJGRlc3ROb2RlIiwib2VtYmVkIiwicG9zdF9vYmplY3QiLCJyYWRpbyIsInJhbmdlIiwicmVsYXRpb25zaGlwIiwicmVwZWF0ZXIiLCIkcm93cyIsInJvdyIsIiRuZXdfcm93Iiwic2VsZWN0IiwiJHNyY1NlbGVjdCIsIiRkZXN0U2VsZWN0IiwiJGRlc3RPcHRzIiwidGF4b25vbXkiLCJ0ZXh0YXJlYSIsInRpbWVfcGlja2VyIiwidHJ1ZV9mYWxzZSIsInVzZXIiLCJ3eXNpd3lnIiwiZWRpdG9yIiwiZGVzdF9pZCIsInRpbnltY2UiLCJnZXQiLCJzZXRDb250ZW50IiwiX2V4dGVuZCIsIm9iaiIsImV4dGVuZCIsInBhcmVudCIsImsiLCJ2IiwibG9nIiwiaGFzT3duUHJvcGVydHkiLCJldmVudHMiLCJtb2RlbHMiLCJGbGV4aWJsZUNvbnRlbnRGaWVsZCIsInByb3RvdHlwZSIsImNsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdIiwicmVuZGVyIiwicmV0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwcmVwZW5kIiwiZHVwbGljYXRlX2ZsZXhpYmxlX2J0biIsIl9kdXBsaWNhdGUiLCJlIiwidGFyZ2V0IiwiY2xvc2VzdCIsImJlZm9yZSIsInByZXYiLCJSZXBlYXRlckZpZWxkIiwiY2xpY2sgYVtkYXRhLWV2ZW50PVwiZHVwbGljYXRlLXJvd1wiXSIsImR1cGxpY2F0ZV9yZXBlYXRlcl9idG4iLCIkc291cmNlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQWdPVCxRQUFTQyxHQUFZQyxFQUFNQyxHQUMxQixHQUEyQkMsRUFJM0IsT0FGQUEsR0FBT0YsRUFBS0csS0FBSyxhQUVWQyxFQUFlRixHQUtmRSxFQUFjRixHQUFPRixFQUFNQyxHQUgxQkcsRUFBY0MsU0FBVUwsRUFBTUMsRUFBT0MsR0FjOUMsUUFBU0ksR0FBYU4sRUFBTUMsRUFBT00sR0FDbEMsR0FDQ0EsR0FBWUEsR0FBYSwyQ0FDekJDLEVBQVdSLEVBQUtTLEtBQU1GLEdBQ3RCRyxFQUFVVCxFQUFNUSxLQUFNRixFQUV2QkMsR0FBU0csS0FBTSxTQUFVQyxFQUFHQyxHQUMzQixNQUFPSCxHQUFPRSxHQUlUZCxFQUFHVSxFQUFTSSxJQUFLRSxLQUFLLFVBQVloQixFQUFFWSxFQUFPRSxJQUFJRSxLQUFLLFNBQ3hEQyxRQUFRQyxNQUFNLG1FQUNQLE9B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LEtBQUssU0FBVUMsRUFBR0MsR0FDMUJmLEVBQUV3QixNQUFNYixLQUFLLGtDQUFrQ29HLFFBQ3JEL0csRUFBRXdCLE1BQU1iLEtBQUssMkJBQTJCcUcsUUFBUzdGLEVBQVE4RiwwQkFJcERMLEdBRVJNLFdBQVksU0FBVUMsR0FDckIsR0FFQ2pFLEdBQ0FELENBR0RDLEdBQVVsRCxFQUFFbUgsRUFBRUMsUUFBUUMsUUFBUSxXQUdyQm5FLEVBQVFtRSxRQUFRLGNBTXpCN0YsS0FBSzJCLEtBQ0pILE9BQVFFLEVBQVFsQyxLQUFLLFVBQ3JCc0csT0FBUXBFLElBSVRELEVBQWNDLEVBQVFxRSxLQUFNLFdBRzVCL0csRUFBYTBDLEVBQVNELEVBQWEsK0VBVXBDNkMsRUFBU3hFLElBQUlpRixPQUFPaUIsY0FBY2YsV0FDbENILFFBQ0NtQixzQ0FBdUMsY0FFeENkLE9BQVEsV0FFUCxHQUFJQyxFQVNKLE9BUEFBLEdBQU1wRixLQUFLeUUsT0FBT1UsT0FBT0UsTUFBT3JGLEtBQU1zRixXQUd0Q3RGLEtBQUtvRCxRQUFRL0QsS0FBSyxTQUFTQyxHQUMxQmQsRUFBRXdCLE1BQU1iLEtBQUssZUFBZWtELE9BQVExQyxFQUFRdUcsMEJBR3RDZCxHQUVSTSxXQUFZLFNBQVVDLEdBRXJCLEdBQUlRLEdBQVN4SCxDQUdUSCxHQUFFbUgsRUFBRUMsUUFBUTFFLFNBQVMsY0FDeEJpRixFQUFVM0gsRUFBRW1ILEVBQUVDLFFBQVFDLFFBQVEsWUFLL0JsSCxFQUFRcUIsS0FBSzJCLEtBQU9tRSxPQUFRSyxJQUc1Qm5ILEVBQWFtSCxFQUFTeEgsUUFPdEJ5SCIsImZpbGUiOiJyZXBlYXRlci1kdXBsaWNhdGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCQpe1xuXHR2YXIgb3B0aW9ucyA9IGFjZl9kdXBsaWNhdGVfcmVwZWF0ZXIub3B0aW9ucyxcblxuXG5cdFx0LyoqXG5cdFx0ICpcdHZhbHVlIGNvcHkgY2FsbGJhY2tzXG5cdFx0ICovXG5cdFx0Y29weV92YWx1ZV9jYiA9IHtcblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggJHNyYywgJGRlc3QsIHR5cGUgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyICRzcmNlcyA9ICRzcmMuZmluZCgnW3R5cGU9XCInK3R5cGUrJ1wiXScpLFxuXHRcdFx0XHRcdHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCk7XG5cdFx0XHRcdC8vZGVzdEZpZWxkLnZhbCggc3JjRmllbGQudmFsICk7XG5cblx0XHRcdFx0JGRlc3QuZmluZCgnW3R5cGU9XCInK3R5cGUrJ1wiXScpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyh0eXBlLHRoaXMsJHNyY2VzW2ldLCQoICRzcmNlc1tpXSApLnZhbCgpKVxuXHRcdFx0XHRcdCQodGhpcykudmFsKCAkKCAkc3JjZXNbaV0gKS52YWwoKSApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSxcblx0XHRcdGJ1dHRvbl9ncm91cDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkZGVzdFJhZGlvID0gJGRlc3QuZmluZCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXHRcdFx0XHQkc3JjLmZpbmQoJ1t0eXBlPVwicmFkaW9cIl0nKS5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRcdFx0aWYgKCAkKGVsKS5wcm9wKCdjaGVja2VkJykgKSB7XG5cdFx0XHRcdFx0XHQkKCAkZGVzdFJhZGlvW2ldICkudHJpZ2dlcignY2xpY2snICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRjaGVja2JveDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkZGVzdENCID0gJGRlc3QuZmluZCgnW3R5cGU9XCJjaGVja2JveFwiXScpO1xuXHRcdFx0XHQkc3JjLmZpbmQoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKS5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRcdFx0JCggJGRlc3RDQltpXSApLnByb3AoJ2NoZWNrZWQnLCAkKGVsKS5wcm9wKCdjaGVja2VkJykgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0Y29sb3JfcGlja2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0dmFyIHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCksXG5cdFx0XHRcdFx0dmFsID0gc3JjRmllbGQuJGlucHV0VGV4dCgpLnZhbCgpO1xuXG5cdFx0XHRcdGRlc3RGaWVsZC4kaW5wdXRUZXh0KCkuaXJpcyggJ29wdGlvbicsICdjb2xvcicsIHZhbCApO1xuXHRcdFx0fSxcblx0XHRcdGRhdGVfcGlja2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ3RleHQnICk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHR9LFxuXHRcdFx0ZGF0ZV90aW1lX3BpY2tlcjogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICd0ZXh0JyApO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0fSxcblx0XHRcdGZpbGU6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgJHNyY1VwbCA9ICRzcmMuZmluZCgnLmFjZi1maWxlLXVwbG9hZGVyJyksXG5cdFx0XHRcdFx0JGRlc3RVcGwgPSAkZGVzdC5maW5kKCcuYWNmLWZpbGUtdXBsb2FkZXInKTtcblxuXHRcdFx0XHQvLyBzZXQgaGlkZGVuXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oICRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXG5cdFx0XHRcdGlmICggJHNyY1VwbC5oYXNDbGFzcygnaGFzLXZhbHVlJykgKSB7XG5cdFx0XHRcdFx0JGRlc3RVcGwuZmluZCgnZGl2JykuZmlyc3QoKS5odG1sKCAkc3JjVXBsLmZpbmQoJ2RpdicpLmZpcnN0KCkuaHRtbCgpICk7XG5cdFx0XHRcdFx0JGRlc3QuZmluZCgnLmFjZi1maWxlLXVwbG9hZGVyJykuYWRkQ2xhc3MoJ2hhcy12YWx1ZScpXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRmbGV4aWJsZV9jb250ZW50OiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7XG5cdFx0XHRcdHZhciBzZWxlY3RvciA9ICc+IC5hY2YtaW5wdXQgPiAuYWNmLWZsZXhpYmxlLWNvbnRlbnQgPiAudmFsdWVzID4gLmxheW91dCcsXG5cdFx0XHRcdFx0c3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KTtcblx0XHRcdFx0Ly9hY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuc2V0KCAnJGZpZWxkJywgJGRlc3QgKTtcblxuXHRcdFx0XHRzcmNGaWVsZC4kbGF5b3V0cygpLmVhY2goZnVuY3Rpb24oaSxsYXlvdXQpe1xuXHRcdFx0XHRcdC8vIGVhY2ggcmVwZWF0ZXIgZW50cnkuLi4gZmluZCBmaWVsZHMgaW4gcmVwZWF0ZXIgZW50cnlcblx0XHRcdFx0XHR2YXIgJGxheW91dCA9ICQobGF5b3V0KSxcblx0XHRcdFx0XHRcdCRuZXdfbGF5b3V0O1xuXG5cdFx0XHRcdFx0ZGVzdEZpZWxkLmFkZCggeyBsYXlvdXQ6ICRsYXlvdXQuZGF0YSgnbGF5b3V0JykgfSApO1xuXG5cdFx0XHRcdFx0JG5ld19sYXlvdXQgPSBkZXN0RmllbGQuJGxheW91dHMoKS5sYXN0KCk7XG5cblx0XHRcdFx0XHQvLyB0YmwgKyBibG9jayArIHJvd1xuXHRcdFx0XHRcdGNvcHlfdmFsdWVzKCAkbGF5b3V0LCAkbmV3X2xheW91dCwgJz4gLmFjZi10YWJsZSA+IHRib2R5ID4gLmFjZi1yb3cgPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG5cblx0XHRcdFx0fSk7IC8vIHRhYmxlXG5cdFx0XHR9LFxuXHRcdFx0Z2FsbGVyeTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdC8vIGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHRcdHZhciAkc3JjTGlzdCA9ICRzcmMuZmluZCgnLmFjZi1nYWxsZXJ5LWF0dGFjaG1lbnRzJyksXG5cdFx0XHRcdFx0JGRlc3RMaXN0ID0gJGRlc3QuZmluZCgnLmFjZi1nYWxsZXJ5LWF0dGFjaG1lbnRzJyksXG5cdFx0XHRcdFx0JGlucHV0ID0gJGRlc3QuZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRcdG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpICsgJ1tdJztcblxuXHRcdFx0XHQkc3JjTGlzdC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oaSxlbCl7XG5cdFx0XHRcdFx0JGNsb25lID0gJChlbCkuY2xvbmUoKTtcblx0XHRcdFx0XHQkY2xvbmUuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS5hdHRyKCAnbmFtZScsIG5hbWUgKTtcblx0XHRcdFx0XHQkZGVzdExpc3QuYXBwZW5kKCRjbG9uZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdGdvb2dsZV9tYXA6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KTtcblx0XHRcdFx0ZGVzdEZpZWxkLnNldFZhbHVlKCBzcmNGaWVsZC5nZXRWYWx1ZSgpICk7XG4vL1x0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ2hpZGRlbicgKTtcblx0XHRcdH0sXG5cdFx0XHRncm91cDogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkge1xuXHRcdFx0XHRjb3B5X3ZhbHVlcyggJHNyYywgJGRlc3QsICc+IC5hY2YtaW5wdXQgPiAuYWNmLXRhYmxlID4gdGJvZHkgPiAuYWNmLXJvdyA+IC5hY2YtZmllbGQsID4gLmFjZi1pbnB1dCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG5cdFx0XHR9LFxuXHRcdFx0aW1hZ2U6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHQvLyBzZXQgaGlkZGVuXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oICRzcmMsICRkZXN0LCAnaGlkZGVuJyApO1xuXHRcdFx0XHQkZGVzdC5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCAkc3JjLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycpIClcblx0XHRcdFx0aWYgKCAkc3JjLmZpbmQoJy5hY2YtaW1hZ2UtdXBsb2FkZXInKS5oYXNDbGFzcygnaGFzLXZhbHVlJykgKSB7XG5cdFx0XHRcdFx0JGRlc3QuZmluZCgnLmFjZi1pbWFnZS11cGxvYWRlcicpLmFkZENsYXNzKCdoYXMtdmFsdWUnKVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bGluazogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdHZhciAkc3JjTm9kZSA9ICRzcmMuZmluZCgnLmxpbmstbm9kZScpLFxuXHRcdFx0XHRcdCRkZXN0Tm9kZSA9ICRkZXN0LmZpbmQoJy5saW5rLW5vZGUnKTtcblxuXHRcdFx0XHQkZGVzdE5vZGUuaHRtbCggJHNyY05vZGUuaHRtbCgpICk7XG5cdFx0XHRcdCRkZXN0Tm9kZS5hdHRyKCAnaHJlZicsICRzcmNOb2RlLmF0dHIoICdocmVmJyApICk7XG5cdFx0XHRcdCRkZXN0Tm9kZS5hdHRyKCAndGFyZ2V0JywgJHNyY05vZGUuYXR0ciggJ3RhcmdldCcgKSApO1xuXG5cdFx0XHRcdCRkZXN0Tm9kZS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdH0sXG5cdFx0XHRvZW1iZWQ6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHQkZGVzdC5maW5kKCdbZGF0YS1uYW1lPVwic2VhcmNoLWlucHV0XCJdJylcblx0XHRcdFx0XHQudmFsKCAkc3JjLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJykudmFsKCkgKVxuXHRcdFx0XHRcdC50cmlnZ2VyKCdibHVyJyk7XG5cdFx0XHR9LFxuXHRcdFx0cG9zdF9vYmplY3Q6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydzZWxlY3QnXSgkc3JjLCAkZGVzdCApO1xuXHRcdFx0fSxcblx0XHRcdHJhZGlvOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnYnV0dG9uX2dyb3VwJ10oJHNyYywgJGRlc3QpO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCd0ZXh0Jyk7XG5cdFx0XHR9LFxuXHRcdFx0cmFuZ2U6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCdyYW5nZScpO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydfZGVmYXVsdCddKCRzcmMsICRkZXN0LCdudW1iZXInKTtcblx0XHRcdH0sXG5cdFx0XHRyZWxhdGlvbnNoaXA6IGZ1bmN0aW9uKCAkc3JjLCAkZGVzdCApIHsgLy8gT0tBWVxuXHRcdFx0XHR2YXIgJGRlc3RMaXN0ID0gJGRlc3QuZmluZCgnLnZhbHVlcyA+IC5saXN0JyksXG5cdFx0XHRcdFx0JGlucHV0ID0gJGRlc3QuZmluZCgnLmFjZi1yZWxhdGlvbnNoaXAnKS5jaGlsZHJlbignaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRcdG5hbWUgPSAkaW5wdXQuYXR0cignbmFtZScpICsgJ1tdJztcblxuXHRcdFx0XHQkc3JjLmZpbmQoJy52YWx1ZXMgPiAubGlzdCcpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHR2YXIgJGNsb25lID0gJChlbCkuY2xvbmUoKTtcblx0XHRcdFx0XHQkY2xvbmUuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS5hdHRyKCAnbmFtZScsIG5hbWUgKTtcblx0XHRcdFx0XHQkZGVzdExpc3QuYXBwZW5kKCRjbG9uZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkaW5wdXQudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0XHR9LFxuXHRcdFx0cmVwZWF0ZXI6ZnVuY3Rpb24oICRzcmMsICRkZXN0ICkge1xuXHRcdFx0XHR2YXIgc3JjRmllbGQgPSBhY2YuZ2V0RmllbGQoJHNyYyksXG5cdFx0XHRcdFx0ZGVzdEZpZWxkID0gYWNmLmdldEZpZWxkKCRkZXN0KTtcblx0XHRcdFx0c3JjRmllbGQuJHJvd3MoKS5lYWNoKGZ1bmN0aW9uKGkscm93KXtcblx0XHRcdFx0XHQkbmV3X3JvdyA9IGRlc3RGaWVsZC5hZGQoKTtcblx0XHRcdFx0XHRjb3B5X3ZhbHVlcyggJChyb3cpLCAkbmV3X3JvdywgJz4gLmFjZi1maWVsZCwgPiAuYWNmLWZpZWxkcyA+IC5hY2YtZmllbGQnICk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vICRzcmMuZmluZCgnPiAuYWNmLWlucHV0ID4gLmFjZi1yZXBlYXRlciA+IC5hY2YtdGFibGUgPiB0Ym9keSA+IC5hY2Ytcm93Om5vdCguYWNmLWNsb25lKScpLmVhY2goZnVuY3Rpb24oaSxyb3cpe1xuXHRcdFx0XHQvLyBcdC8vIGVhY2ggcmVwZWF0ZXIgZW50cnkuLi4gZmluZCBmaWVsZHMgaW4gcmVwZWF0ZXIgZW50cnlcblx0XHRcdFx0Ly8gXHR2YXIgJG5ld19yb3cgPSBhY2YuZmllbGRzLnJlcGVhdGVyLmFkZCgpO1xuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyBcdGNvcHlfdmFsdWVzKCAkKHJvdyksICRuZXdfcm93LCAnPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG5cdFx0XHRcdC8vIH0pOyAvLyB0YWJsZVxuXHRcdFx0fSxcblx0XHRcdHNlbGVjdDogZnVuY3Rpb24oICRzcmMsICRkZXN0LCBfc2VsZWN0b3IgKSB7IC8vIE9LQVlcblx0XHRcdFx0X3NlbGVjdG9yID0gX3NlbGVjdG9yIHx8ICcgPiAuYWNmLWlucHV0ID4gc2VsZWN0Jztcblx0XHRcdFx0dmFyICRzcmNTZWxlY3QgPSAkc3JjLmZpbmQoIF9zZWxlY3RvciApLFxuXHRcdFx0XHRcdCRkZXN0U2VsZWN0ID0gJGRlc3QuZmluZCggX3NlbGVjdG9yICk7XG5cblx0XHRcdFx0aWYgKCAkc3JjU2VsZWN0LmRhdGEoJ3VpJykgKiAxICkge1xuXHRcdFx0XHRcdC8vIHNvcnQgJGRlc3QgbGlrZSAkc3JjXG5cdFx0XHRcdFx0JGRlc3RTZWxlY3QuaHRtbCgnJyk7XG5cdFx0XHRcdFx0JHNyY1NlbGVjdC5maW5kKCdvcHRpb24nKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHRcdFx0JGRlc3RTZWxlY3QuYXBwZW5kKCQoZWwpLmNsb25lKCkpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCRkZXN0T3B0cyA9ICRkZXN0U2VsZWN0LmZpbmQoJ29wdGlvbicpO1xuXHRcdFx0XHQkc3JjU2VsZWN0LmZpbmQoJ29wdGlvbicpLmVhY2goZnVuY3Rpb24oaSxlbCkge1xuXHRcdFx0XHRcdCQoICRkZXN0T3B0c1tpXSApLnByb3AoJ3NlbGVjdGVkJywgJChlbCkucHJvcCgnc2VsZWN0ZWQnKSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR0YXhvbm9teTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ3JhZGlvJ10oJHNyYywgJGRlc3QpO1xuXHRcdFx0XHRjb3B5X3ZhbHVlX2NiWydjaGVja2JveCddKCRzcmMsICRkZXN0KTtcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnc2VsZWN0J10oJHNyYywgJGRlc3QsICc+IC5hY2YtaW5wdXQgPiAuYWNmLXRheG9ub215LWZpZWxkID4gc2VsZWN0JyApO1xuXHRcdFx0fSxcblx0XHRcdHRleHRhcmVhOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0JGRlc3QuZmluZCgndGV4dGFyZWEnKS52YWwoICRzcmMuZmluZCgndGV4dGFyZWEnKS52YWwoKSApO1xuXHRcdFx0fSxcblx0XHRcdHRpbWVfcGlja2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnX2RlZmF1bHQnXSgkc3JjLCAkZGVzdCwgJ3RleHQnICk7XG5cdFx0XHRcdGNvcHlfdmFsdWVfY2JbJ19kZWZhdWx0J10oJHNyYywgJGRlc3QsICdoaWRkZW4nICk7XG5cdFx0XHR9LFxuXHRcdFx0dHJ1ZV9mYWxzZTogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyBPS0FZXG5cdFx0XHRcdCRkZXN0LmZpbmQoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKS5wcm9wKCdjaGVja2VkJywgJHNyYy5maW5kKCdbdHlwZT1cImNoZWNrYm94XCJdJykucHJvcCgnY2hlY2tlZCcpICk7XG5cdFx0XHRcdCRkZXN0LmZpbmQoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHRcdH0sXG5cdFx0XHR1c2VyOiBmdW5jdGlvbiggJHNyYywgJGRlc3QgKSB7IC8vIE9LQVlcblx0XHRcdFx0Y29weV92YWx1ZV9jYlsnc2VsZWN0J10oICRzcmMsICRkZXN0ICk7XG5cdFx0XHR9LFxuXHRcdFx0d3lzaXd5ZzogZnVuY3Rpb24oICRzcmMsICRkZXN0ICkgeyAvLyAuLi5cblx0XHRcdFx0dmFyIHNyY0ZpZWxkID0gYWNmLmdldEZpZWxkKCRzcmMpLFxuXHRcdFx0XHRcdGRlc3RGaWVsZCA9IGFjZi5nZXRGaWVsZCgkZGVzdCksXG5cdFx0XHRcdFx0ZGVzdF9pZCA9IGRlc3RGaWVsZC4kaW5wdXQoKS5hdHRyKCdpZCcpLFxuXHRcdFx0XHRcdHZhbCA9IHNyY0ZpZWxkLmdldFZhbHVlKCksIGVkaXRvcjtcblxuXHRcdFx0XHRlZGl0b3IgPSB0aW55bWNlLmdldCggZGVzdF9pZCApO1xuXHRcdFx0XHRpZiAoICEhIGVkaXRvciApIHtcblx0XHRcdFx0XHQvLyBlZGl0b3IgYWxyZWFkeSBpbml0ZWRcblx0XHRcdFx0XHRlZGl0b3Iuc2V0Q29udGVudCggdmFsICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gZGVsYXllZCBpbml0XG5cdFx0XHRcdFx0ZGVzdEZpZWxkLiRpbnB1dCgpLmh0bWwoIHZhbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH07XG5cblx0LyoqXG5cdCAqXHRDb3B5IHZhbHVlcyBmcm9tIG9uZSBhY2YtZmllbGQgdG8gYW5vdGhlclxuXHQgKlxuXHQgKlx0QHBhcmFtICRzcmMgalF1ZXJ5IG9iamVjdCBob2xkaW5nIHRoZSAuYWNmLWZpZWxkIG9iamVjdCB0byBjb3B5IGZyb21cblx0ICpcdEBwYXJhbSAkZGVzdCBqUXVlcnkgb2JqZWN0IGhvbGRpbmcgdGhlIC5hY2YtZmllbGQgb2JqZWN0IHRvIGNvcHkgdG9cblx0ICovXG5cdGZ1bmN0aW9uIGNvcHlfdmFsdWUoICRzcmMsICRkZXN0ICkge1xuXHRcdHZhciAkc3JjSW5wdXQsICRkZXN0SW5wdXQsIHR5cGU7XG5cblx0XHR0eXBlID0gJHNyYy5hdHRyKCdkYXRhLXR5cGUnKTtcblxuXHRcdGlmICggISBjb3B5X3ZhbHVlX2NiWyB0eXBlIF0gKSB7XG5cdFx0XHQvLyB0ZXQsIHJhbmdlLCB1cmwsIG51bWJlcixcblx0XHRcdHJldHVybiBjb3B5X3ZhbHVlX2NiLl9kZWZhdWx0KCAkc3JjLCAkZGVzdCwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb3B5X3ZhbHVlX2NiW3R5cGVdKCAkc3JjLCAkZGVzdCApO1xuXHR9XG5cblx0LyoqXG5cdCAqXHRDb3B5IHZhbHVlcyBmcm9tIG9uZSBzZXQgb2YgYWNmLWZpZWxkcyB0byBhbm90aGVyLlxuXHQgKlx0SXQgaXMgYXNzdW1lZCB0aGF0IGJvdGggJHNyYyBhZG4gJGRlc3QgaGF2ZSBhbiBpZGVudGljYWxcblx0ICpcblx0ICpcdEBwYXJhbSAkc3JjIGpRdWVyeSBvYmplY3QgY29udGFpbmluZyB0aGUgLmFjZi1maWVsZCBvYmplY3RzIHRvIGNvcHkgZnJvbVxuXHQgKlx0QHBhcmFtICRkZXN0IGpRdWVyeSBvYmplY3QgY29udGFpbmluZyB0aGUgLmFjZi1maWVsZCBvYmplY3QgdG8gY29weSB0b1xuXHQgKlx0QHBhcmFtIF9zZWxlY3RvciBjc3Mgc2VsZWN0b3IgdG8gc2VsZWN0IC5hY2YtZmllbGRzIGluIGJvdGggJHNyYyBhbmQgJGRlc3Rcblx0ICovXG5cdGZ1bmN0aW9uIGNvcHlfdmFsdWVzKCAkc3JjLCAkZGVzdCwgX3NlbGVjdG9yICkge1xuXHRcdHZhciBmaWVsZF9tYXBcdD0ge30sXG5cdFx0XHRfc2VsZWN0b3IgPSBfc2VsZWN0b3IgfHwgJz4gLmFjZi1maWVsZCwgPiAuYWNmLWZpZWxkcyA+IC5hY2YtZmllbGQnLFxuXHRcdFx0JHNvdXJjZXNcdD0gJHNyYy5maW5kKCBfc2VsZWN0b3IgKSxcblx0XHRcdCRkZXN0c1x0XHQ9ICRkZXN0LmZpbmQoIF9zZWxlY3RvciApO1xuXG5cdFx0JHNvdXJjZXMuZWFjaCggZnVuY3Rpb24oIGksIGVsICl7XG5cdFx0XHRpZiAoICEgJGRlc3RzW2ldICkge1xuXHRcdFx0XHRjb25zb2xlLnRyYWNlKCdFcnJvcjogc291cmNlIGZpZWxkcyBkbyBub3QgbWF0Y2ggZGVzdGluYXRpb24gZmllbGRzJyk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmICggJCggJHNvdXJjZXNbaV0gKS5kYXRhKCd0eXBlJykgIT09ICQoJGRlc3RzW2ldKS5kYXRhKCd0eXBlJykgKSB7XG5cdFx0XHRcdGNvbnNvbGUudHJhY2UoJ0Vycm9yOiBzb3VyY2UgZmllbGQgdHlwZSBkb2VzIG5vdCBtYXRjaCBkZXN0aW5hdGlvbiBmaWVsZCB0eXBlJyk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGNvcHlfdmFsdWUoICQoICRzb3VyY2VzW2ldICksICQoJGRlc3RzW2ldKSApO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqXHRFeHRlbmQgYWNmIGZsZXhpYmxlIGNvbnRlbnQgZmllbGRcblx0ICovXG5cblx0dmFyIF9leHRlbmQgPSBmdW5jdGlvbihvYmosZXh0ZW5kKSB7XG5cdFx0dmFyIHBhcmVudCA9ICQuZXh0ZW5kKHt9LG9iaik7XG5cdFx0JC5lYWNoKGV4dGVuZCxmdW5jdGlvbihrLHYpIHtcblx0XHRcdGNvbnNvbGUubG9nKGssb2JqLmhhc093blByb3BlcnR5KGspKVxuXHRcdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG9ialtrXSApIHtcblx0XHRcdFx0aWYgKCAnZXZlbnRzJyA9PT0gayApIHtcblx0XHRcdFx0XHRvYmouZXZlbnRzID0gJC5leHRlbmQoIG9iai5ldmVudHMsIHYgKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSBpZiAoICdmdW5jdGlvbicgPT09IHR5cGVvZiB2ICkge1xuXHRcdFx0XHRcdHBhcmVudFtrXSA9IG9ialtrXTsgLy9cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b2JqW2tdID0gdjtcblx0XHR9KTtcblx0XHRvYmoucGFyZW50ID0gcGFyZW50O1xuXHRcdHJldHVybiBvYmo7XG5cdH1cblxuXHRfZXh0ZW5kKCBhY2YubW9kZWxzLkZsZXhpYmxlQ29udGVudEZpZWxkLnByb3RvdHlwZSwge1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdJzogJ19kdXBsaWNhdGUnXG5cdFx0fSxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgcmV0O1xuXG5cdFx0XHRyZXQgPSB0aGlzLnBhcmVudC5yZW5kZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBhZGQgZHVwbGljYXRlIGJ0blxuXHRcdFx0dGhpcy4kbGF5b3V0cygpLmVhY2goZnVuY3Rpb24oIGksIGVsICl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLmZpbmQoJ1tkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdJykubGVuZ3RoICkge1xuXHRcdFx0XHRcdCQodGhpcykuZmluZCgnLmFjZi1mYy1sYXlvdXQtY29udHJvbHMnKS5wcmVwZW5kKCBvcHRpb25zLmR1cGxpY2F0ZV9mbGV4aWJsZV9idG4gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRfZHVwbGljYXRlOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdHZhciBsYXlvdXQsXG5cdFx0XHRcdCRmaWVsZCxcblx0XHRcdFx0JGxheW91dCxcblx0XHRcdFx0JG5ld19sYXlvdXQ7XG5cblx0XHRcdC8vIGdldCBsYXlvdXQgd3JhcHBlclxuXHRcdFx0JGxheW91dCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5sYXlvdXQnKTtcblxuXHRcdFx0Ly8gZ2V0IGZsZXhpYmxlX2NvbnRlbnQgZmllbGRcblx0XHRcdCRmaWVsZCA9ICRsYXlvdXQuY2xvc2VzdCgnLmFjZi1maWVsZCcpO1xuXG5cdFx0XHQvLyBhY2Ygc2V0IGZpZWxkIGNvbnRlbnh0XG5cdFx0XHQvL2FjZi5maWVsZHMuZmxleGlibGVfY29udGVudC5zZXQoICckZmllbGQnLCAkZmllbGQgKTtcblxuXHRcdFx0Ly8gYWNmIGFkZCB0YXJnZXQgbGF5b3V0IGJlZm9yZSBzb3VyY2UgbGF5b3V0XG5cdFx0XHR0aGlzLmFkZCgge1xuXHRcdFx0XHRsYXlvdXQ6ICRsYXlvdXQuZGF0YSgnbGF5b3V0JyksXG5cdFx0XHRcdGJlZm9yZTogJGxheW91dCxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBnZXQgdGhlIGFkZGVkIGxheW91dFxuXHRcdFx0JG5ld19sYXlvdXQgPSAkbGF5b3V0LnByZXYoICcubGF5b3V0JyApO1xuXG5cdFx0XHQvLyBjb3B5IHZhbHVlcyBmcm9tIHNvdXJjZSBsYXlvdXQgdG8gZGVzdGluYXRpb25cblx0XHRcdGNvcHlfdmFsdWVzKCAkbGF5b3V0LCAkbmV3X2xheW91dCwgJz4gLmFjZi10YWJsZSA+IHRib2R5ID4gLmFjZi1yb3cgPiAuYWNmLWZpZWxkLCA+IC5hY2YtZmllbGRzID4gLmFjZi1maWVsZCcgKTsgLy8gZXhjbHVkZSBjbG9uZXMhXG5cblx0XHR9XG5cdH0pO1xuXG5cdC8vYWNmLmZpZWxkcy5mbGV4aWJsZV9jb250ZW50ID0gYWNmLmZpZWxkcy5mbGV4aWJsZV9jb250ZW50LmV4dGVuZCgpO1xuXG5cdC8qKlxuXHQgKlx0RXh0ZW5kIGFjZiBmbGV4aWJsZSBjb250ZW50IGZpZWxkXG5cdCAqL1xuXHQgX2V4dGVuZCggYWNmLm1vZGVscy5SZXBlYXRlckZpZWxkLnByb3RvdHlwZSwge1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIGFbZGF0YS1ldmVudD1cImR1cGxpY2F0ZS1yb3dcIl0nOiAnX2R1cGxpY2F0ZSdcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciByZXQ7XG5cblx0XHRcdHJldCA9IHRoaXMucGFyZW50LnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGFkZCBkdXBsaWNhdGUgYnRuXG5cdFx0XHR0aGlzLiRyb3dzKCkuZWFjaChmdW5jdGlvbihpKXtcblx0XHRcdFx0JCh0aGlzKS5maW5kKCc+IHRkLnJlbW92ZScpLmFwcGVuZCggb3B0aW9ucy5kdXBsaWNhdGVfcmVwZWF0ZXJfYnRuICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdF9kdXBsaWNhdGU6IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHR2YXIgJHNvdXJjZSwgJGRlc3Q7XG5cblx0XHRcdC8vIGdldCBzb3VyY2Ugcm93XG5cdFx0XHRpZiggJChlLnRhcmdldCkuaGFzQ2xhc3MoJ2FjZi1pY29uJykgKSB7XG5cdFx0XHRcdCRzb3VyY2UgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYWNmLXJvdycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Ly8gYWRkIGRlc3RpbmF0aW9uIHJvd1xuXHRcdFx0JGRlc3QgPSB0aGlzLmFkZCggeyBiZWZvcmU6ICRzb3VyY2UgfSApOyAvLyBhZGQgYmVmb3JlIHNvdXJjZSFcblxuXHRcdFx0Ly8gY29weSB2YWx1ZXMgZnJvbSBzb3VyY2Ugcm93IHRvIGRlc3RpbmF0aW9uXG5cdFx0XHRjb3B5X3ZhbHVlcyggJHNvdXJjZSwgJGRlc3QgKTtcblxuLy9cdFx0XHR0aGlzLiRpbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHR9LFxuXHR9KTtcblxuXG59KShqUXVlcnkpXG4iXX0=
