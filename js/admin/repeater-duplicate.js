!function(e){function t(t){var a=t.attr("data-id"),i="acfcloneindex",n="-"+a+"-",c="["+a+"]";t.attr("data-id",i),t.find('[id*="'+a+'"]').each(function(){e(this).attr("id",e(this).attr("id").replace(n,"-acfcloneindex-"))}),t.find('[name*="'+a+'"]').each(function(){e(this).attr("name",e(this).attr("name").replace(c,"[acfcloneindex]"))}),t.find('label[for*="'+a+'"]').each(function(){e(this).attr("for",e(this).attr("for").replace(n,"-acfcloneindex-"))}),t.find("textarea.wp-editor-area").each(function(){e(this).attr("id","acf-editor-"+acf.get_uniqid())})}function a(t,a){t.find(".acf-field-wysiwyg").each(function(){var t=e(this).find(".tmce-active textarea.wp-editor-area"),i=t.html(),n=a.find('[data-key="'+e(this).attr("data-key")+'"]');e(this).html(n.html()),e(this).find("textarea.wp-editor-area").html(i)}),t.find(".acf-field-color-picker").each(function(){var t=e(this).find('[type="hidden"]'),i=t.val(),n=a.find('[data-key="'+e(this).attr("data-key")+'"]');e(this).html(n.html()),e(this).find('[type="hidden"]').val(i).next().val(i)})}var i=acf_duplicate_repeater.options,n=e.extend({},acf.fields.repeater),c=e.extend({},acf.fields.flexible_content);acf.fields.flexible_content=acf.fields.flexible_content.extend({events:{'click [data-name="duplicate-layout"]':"_duplicate"},render:function(){var t;return t=c.render.apply(this,arguments),this.$values.children(".layout").each(function(t){e(this).find(".acf-fc-layout-controlls").prepend(i.duplicate_flexible_btn)}),t},_duplicate:function(e){var i,n,c;n=e.$el.closest(".layout"),i=n.attr("data-layout"),c=n.clone(),t(c),a(c,this.$clones.children('.layout[data-layout="'+i+'"]')),c.attr("data-layout","_duplicate").appendTo(this.$clones),this.add("_duplicate",n),c.remove()},get_me:function(){console.log(this)}}),acf.fields.repeater=acf.fields.repeater.extend({events:{'click a[data-event="duplicate-row"]':"_duplicate"},render:function(){var t;return t=n.render.apply(this,arguments),this.$tbody.children().each(function(t){e(this).find("> td.remove").append(i.duplicate_repeater_btn)}),t},_duplicate:function(i){var n,c,d,l,f;i.$el.hasClass("acf-icon")&&(c=i.$el.closest(".acf-row")),n=this.$clone,d=c.clone(),l=e("<table />").appendTo("body").append(d),t(d),a(d,c.closest(".acf-table").find("tr.acf-clone")),this.$clone={$el:d,search:"acfcloneindex",replace:!1};var r={};c.find("select").each(function(t){r[t]=e(this).val()}),c.find(".acf-field-wysiwyg").each(function(t,a){e(this)});var o={};return c.find(".acf-field-wysiwyg iframe").contents().find("body").each(function(t){o[t]=e(this).html()}),f=this.add(c),this.$clone=n,l.remove(),f.find("select").each(function(t){e(this).find("option[value = '"+r[t]+"']").attr("selected","selected")}),f.find(".acf-field-wysiwyg textarea").each(function(t){e(this).html(o[t])}),f}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcGVhdGVyLWR1cGxpY2F0ZS5qcyJdLCJuYW1lcyI6WyIkIiwicmVzZXRfaWRzIiwiJGVsIiwiaWQiLCJhdHRyIiwibmV3X2lkIiwic2VhcmNoX2lkIiwic2VhcmNoX25hbWUiLCJmaW5kIiwiZWFjaCIsInRoaXMiLCJyZXBsYWNlIiwiYWNmIiwiZ2V0X3VuaXFpZCIsInJlc2V0X2ZpZWxkcyIsIiRjbG9uZV90ZW1wbGF0ZSIsIiR0ZXh0YXJlYSIsInJ0ZV92YWx1ZSIsImh0bWwiLCIkdGhpc19jbG9uZSIsIiRpbnB1dCIsImNvbG9yX3ZhbHVlIiwidmFsIiwibmV4dCIsIm9wdGlvbnMiLCJhY2ZfZHVwbGljYXRlX3JlcGVhdGVyIiwib3JpZ19yZXBlYXRlciIsImV4dGVuZCIsImZpZWxkcyIsInJlcGVhdGVyIiwib3JpZ19mbGV4aWJsZV9jb250ZW50IiwiZmxleGlibGVfY29udGVudCIsImV2ZW50cyIsImNsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdIiwicmVuZGVyIiwicmV0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCIkdmFsdWVzIiwiY2hpbGRyZW4iLCJpIiwicHJlcGVuZCIsImR1cGxpY2F0ZV9mbGV4aWJsZV9idG4iLCJfZHVwbGljYXRlIiwiZSIsImxheW91dCIsIiRiZWZvcmUiLCIkY2xvbmUiLCJjbG9zZXN0IiwiY2xvbmUiLCIkY2xvbmVzIiwiYXBwZW5kVG8iLCJhZGQiLCJyZW1vdmUiLCJnZXRfbWUiLCJjb25zb2xlIiwibG9nIiwiY2xpY2sgYVtkYXRhLWV2ZW50PVwiZHVwbGljYXRlLXJvd1wiXSIsIiR0Ym9keSIsImFwcGVuZCIsImR1cGxpY2F0ZV9yZXBlYXRlcl9idG4iLCIkcHJldl9jbG9uZSIsIiRyb3ciLCIkdGVtcGxhdGUiLCIkdG1wIiwiJGNvcHkiLCJoYXNDbGFzcyIsInNlYXJjaCIsInNlbGVjdGVkVmFsdWUiLCJpbmRleCIsImVsIiwiJGVkaXRvckNvbnRlbnQiLCJjb250ZW50cyIsImpRdWVyeSJd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YXRlci1kdXBsaWNhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCl7XG5cdHZhciBvcHRpb25zID0gYWNmX2R1cGxpY2F0ZV9yZXBlYXRlci5vcHRpb25zLFxuXHRcdG9yaWdfcmVwZWF0ZXIgPSAkLmV4dGVuZCgge30sIGFjZi5maWVsZHMucmVwZWF0ZXIgKSxcblx0XHRvcmlnX2ZsZXhpYmxlX2NvbnRlbnQgPSAkLmV4dGVuZCgge30sIGFjZi5maWVsZHMuZmxleGlibGVfY29udGVudCApO1xuXG5cblx0ZnVuY3Rpb24gcmVzZXRfaWRzKCAkZWwgKSB7XG5cdFx0dmFyIGlkID0gJGVsLmF0dHIoJ2RhdGEtaWQnKSxcblx0XHRcdG5ld19pZCA9ICdhY2ZjbG9uZWluZGV4Jyxcblx0XHRcdHNlYXJjaF9pZFx0XHQ9ICctJytpZCsnLScsXG5cdFx0XHRyZXBsYWNlX2lkXHRcdD0gJy0nK25ld19pZCsnLScsXG5cdFx0XHRzZWFyY2hfbmFtZSBcdD0gJ1snK2lkKyddJyxcblx0XHRcdHJlcGxhY2VfbmFtZVx0PSAnWycrbmV3X2lkKyddJztcblxuXHRcdCRlbC5hdHRyKCdkYXRhLWlkJywgbmV3X2lkICk7XG5cblx0XHQvLyByZXBsYWNlIGlkc1xuXHRcdCRlbC5maW5kKCdbaWQqPVwiJyArIGlkICsgJ1wiXScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdCQodGhpcykuYXR0cignaWQnLCAkKHRoaXMpLmF0dHIoJ2lkJykucmVwbGFjZSggc2VhcmNoX2lkLCByZXBsYWNlX2lkICkgKTtcblx0XHR9KTtcblxuXHRcdC8vIHJlcGxhY2UgbmFtZXNcblx0XHQkZWwuZmluZCgnW25hbWUqPVwiJyArIGlkICsgJ1wiXScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdCQodGhpcykuYXR0cignbmFtZScsICQodGhpcykuYXR0cignbmFtZScpLnJlcGxhY2UoIHNlYXJjaF9uYW1lLCByZXBsYWNlX25hbWUgKSApO1xuXHRcdH0pO1xuXG5cdFx0Ly8gcmVwbGFjZSBsYWJlbCBmb3Jcblx0XHQkZWwuZmluZCgnbGFiZWxbZm9yKj1cIicgKyBpZCArICdcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHQkKHRoaXMpLmF0dHIoJ2ZvcicsICQodGhpcykuYXR0cignZm9yJykucmVwbGFjZSggc2VhcmNoX2lkLCByZXBsYWNlX2lkICkgKTtcblx0XHR9KTtcblxuXHRcdCRlbC5maW5kKCd0ZXh0YXJlYS53cC1lZGl0b3ItYXJlYScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdCQodGhpcykuYXR0ciggJ2lkJywgJ2FjZi1lZGl0b3ItJyArIGFjZi5nZXRfdW5pcWlkKCkgKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlc2V0X2ZpZWxkcyggJGVsLCAkY2xvbmVfdGVtcGxhdGUgKSB7XG5cblx0XHQvLyByaWNoIHRleHQgZWRpdG9yXG5cdFx0JGVsLmZpbmQoJy5hY2YtZmllbGQtd3lzaXd5ZycpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdHZhciAkdGV4dGFyZWEgPSAkKHRoaXMpLmZpbmQoJy50bWNlLWFjdGl2ZSB0ZXh0YXJlYS53cC1lZGl0b3ItYXJlYScpLFxuXHRcdFx0XHRydGVfdmFsdWUgPSAkdGV4dGFyZWEuaHRtbCgpLFxuXHRcdFx0XHQkdGhpc19jbG9uZSA9ICRjbG9uZV90ZW1wbGF0ZS5maW5kKCdbZGF0YS1rZXk9XCInKyAkKHRoaXMpLmF0dHIoJ2RhdGEta2V5JykgKydcIl0nKTtcblxuXHRcdFx0JCh0aGlzKS5odG1sKCAkdGhpc19jbG9uZS5odG1sKCkgKTtcblxuXHRcdFx0JCh0aGlzKS5maW5kKCd0ZXh0YXJlYS53cC1lZGl0b3ItYXJlYScpLmh0bWwoIHJ0ZV92YWx1ZSApO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBjb2xvciBwaWNrZXJcblx0XHQkZWwuZmluZCgnLmFjZi1maWVsZC1jb2xvci1waWNrZXInKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgJGlucHV0ID0gJCh0aGlzKS5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpLFxuXHRcdFx0XHRjb2xvcl92YWx1ZSA9ICRpbnB1dC52YWwoKSxcblx0XHRcdFx0JHRoaXNfY2xvbmUgPSAkY2xvbmVfdGVtcGxhdGUuZmluZCgnW2RhdGEta2V5PVwiJysgJCh0aGlzKS5hdHRyKCdkYXRhLWtleScpICsnXCJdJyk7XG5cblx0XHRcdCQodGhpcykuaHRtbCggJHRoaXNfY2xvbmUuaHRtbCgpICk7XG5cblx0XHRcdCQodGhpcykuZmluZCgnW3R5cGU9XCJoaWRkZW5cIl0nKS52YWwoIGNvbG9yX3ZhbHVlICkubmV4dCgpLnZhbCggY29sb3JfdmFsdWUgKTtcblxuXHRcdH0pO1xuXHR9XG5cblxuXHRhY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQgPSBhY2YuZmllbGRzLmZsZXhpYmxlX2NvbnRlbnQuZXh0ZW5kKHtcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayBbZGF0YS1uYW1lPVwiZHVwbGljYXRlLWxheW91dFwiXSc6ICdfZHVwbGljYXRlJ1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHJldDtcblxuXHRcdFx0cmV0ID0gb3JpZ19mbGV4aWJsZV9jb250ZW50LnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIHVwZGF0ZSBvcmRlciBudW1iZXJzXG5cdFx0XHR0aGlzLiR2YWx1ZXMuY2hpbGRyZW4oJy5sYXlvdXQnKS5lYWNoKGZ1bmN0aW9uKCBpICl7XG5cdFx0XHRcdCQodGhpcykuZmluZCgnLmFjZi1mYy1sYXlvdXQtY29udHJvbGxzJykucHJlcGVuZCggb3B0aW9ucy5kdXBsaWNhdGVfZmxleGlibGVfYnRuICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdF9kdXBsaWNhdGU6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0dmFyIGxheW91dCxcblx0XHRcdFx0JGJlZm9yZSxcblx0XHRcdFx0JGNsb25lLFxuXHRcdFx0XHQkbGF5b3V0X3RlbXBsYXRlO1xuXG5cdFx0XHQkYmVmb3JlID0gZS4kZWwuY2xvc2VzdCgnLmxheW91dCcpO1xuXG5cdFx0XHRsYXlvdXQgPSAkYmVmb3JlLmF0dHIoICdkYXRhLWxheW91dCcgKTtcblxuXHRcdFx0JGNsb25lID0gJGJlZm9yZS5jbG9uZSgpO1xuXG5cdFx0XHRyZXNldF9pZHMoICRjbG9uZSApO1xuXG5cdFx0XHRyZXNldF9maWVsZHMoICRjbG9uZSwgdGhpcy4kY2xvbmVzLmNoaWxkcmVuKCcubGF5b3V0W2RhdGEtbGF5b3V0PVwiJyArIGxheW91dCArICdcIl0nKSApO1xuXG5cdFx0XHQkY2xvbmUuYXR0ciggJ2RhdGEtbGF5b3V0JywgJ19kdXBsaWNhdGUnICkuYXBwZW5kVG8odGhpcy4kY2xvbmVzKTtcblxuXHRcdFx0dGhpcy5hZGQoICdfZHVwbGljYXRlJywgJGJlZm9yZSApO1xuXG5cdFx0XHQkY2xvbmUucmVtb3ZlKCk7XG5cblx0XHR9LFxuXHRcdGdldF9tZTpmdW5jdGlvbigpe1xuXHRcdFx0Y29uc29sZS5sb2codGhpcyk7XG5cdFx0fVxuXHR9KTtcblxuXHRhY2YuZmllbGRzLnJlcGVhdGVyID0gYWNmLmZpZWxkcy5yZXBlYXRlci5leHRlbmQoe1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIGFbZGF0YS1ldmVudD1cImR1cGxpY2F0ZS1yb3dcIl0nOiAnX2R1cGxpY2F0ZSdcblx0XHR9LFxuXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHJldDtcblxuXHRcdFx0cmV0ID0gb3JpZ19yZXBlYXRlci5yZW5kZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyB1cGRhdGUgb3JkZXIgbnVtYmVyc1xuXHRcdFx0dGhpcy4kdGJvZHkuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKGkpe1xuXHRcdFx0XHQkKHRoaXMpLmZpbmQoJz4gdGQucmVtb3ZlJykuYXBwZW5kKCBvcHRpb25zLmR1cGxpY2F0ZV9yZXBlYXRlcl9idG4gKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cblx0XHRfZHVwbGljYXRlOiBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0dmFyICRwcmV2X2Nsb25lLFxuXHRcdFx0XHRpZCwgdW5pcXVpZCxcblx0XHRcdFx0JHJvdyxcblx0XHRcdFx0JHRlbXBsYXRlLCAkdG1wLFxuXHRcdFx0XHQkY29weTtcblx0XHRcdC8vIHZhcnNcblxuXG5cdFx0XHQvLyBhZGQgYmVmb3JlIHJvd1xuXHRcdFx0aWYoIGUuJGVsLmhhc0NsYXNzKCdhY2YtaWNvbicpICkge1xuXHRcdFx0XHQkcm93ID0gZS4kZWwuY2xvc2VzdCgnLmFjZi1yb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYmFja3VwIGFjZiBjbG9uZSBvcHRpb25zXG5cdFx0XHQkcHJldl9jbG9uZSA9IHRoaXMuJGNsb25lO1xuXG5cdFx0XHQkdGVtcGxhdGUgPSAkcm93LmNsb25lKCk7XG5cdFx0XHQkdG1wID0gJCgnPHRhYmxlIC8+JykuYXBwZW5kVG8oJ2JvZHknKS5hcHBlbmQoICR0ZW1wbGF0ZSApO1xuXG5cdFx0XHRyZXNldF9pZHMoICR0ZW1wbGF0ZSApO1xuXG5cdFx0XHRyZXNldF9maWVsZHMoICR0ZW1wbGF0ZSwgJHJvdy5jbG9zZXN0KCcuYWNmLXRhYmxlJykuZmluZCgndHIuYWNmLWNsb25lJykgKTtcblxuXHRcdFx0Ly8gZmFrZSBhY2YuY2xvbmUoKSBjdXJyZW50IHJvd1xuXHRcdFx0dGhpcy4kY2xvbmUgPSB7XG5cdFx0XHRcdCckZWwnXHRcdDogJHRlbXBsYXRlLFxuXHRcdFx0XHQnc2VhcmNoJ1x0OiAnYWNmY2xvbmVpbmRleCcsXG5cdFx0XHRcdCdyZXBsYWNlJ1x0OiBmYWxzZSxcblx0XHRcdH07XG5cblx0XHRcdC8vIGdldCBzZWxlY3Rpb24tZmllbGQgdmFsdWVzLCBiZWNhdXNlIHRoZXNlIGFyZW4ndCBjb3BpZWQgYnkgZGVmYXVsdFxuXHRcdFx0Ly8gc2VlOiBodHRwczovL2FwaS5qcXVlcnkuY29tL2Nsb25lLyNlbnRyeS1sb25nZGVzY1xuXHRcdFx0dmFyIHNlbGVjdGVkVmFsdWUgPSB7fTtcblx0XHRcdCRyb3cuZmluZCgnc2VsZWN0JykuZWFjaChmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0XHRzZWxlY3RlZFZhbHVlW2luZGV4XSA9ICQodGhpcykudmFsKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JHJvdy5maW5kKCcuYWNmLWZpZWxkLXd5c2l3eWcnKS5lYWNoKGZ1bmN0aW9uKCBpLCBlbCApIHtcblx0XHRcdFx0dmFyICRmaWVsZCA9ICQodGhpcyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gZ2V0IHd5c2l3eWctZmllbGQgdmFsdWVzLCBiZWNhdXNlIHRoZXNlIGFyZW4ndCBjb3BpZWQgYnkgZGVmYXVsdFxuXHRcdFx0Ly8gc2VlOiBodHRwczovL2FwaS5qcXVlcnkuY29tL2Nsb25lLyNlbnRyeS1sb25nZGVzY1xuXHRcdFx0dmFyICRlZGl0b3JDb250ZW50ID0ge307XG5cdFx0XHQkcm93LmZpbmQoJy5hY2YtZmllbGQtd3lzaXd5ZyBpZnJhbWUnKS5jb250ZW50cygpLmZpbmQoXCJib2R5XCIpLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdFx0JGVkaXRvckNvbnRlbnRbaW5kZXhdID0gJCh0aGlzKS5odG1sKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gbWFrZSBjb3B5XG5cdFx0XHQkY29weSA9IHRoaXMuYWRkKCAkcm93ICk7XG5cblx0XHRcdC8vIHJlc3RvcmUgYWNmIGNsb25lIG9wdGlvbnNcblx0XHRcdHRoaXMuJGNsb25lID0gJHByZXZfY2xvbmU7XG5cdFx0XHQkdG1wLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyByZXN0b3JlIHNlbGVjdGlvbiB2YWx1ZXNcblx0XHRcdCRjb3B5LmZpbmQoJ3NlbGVjdCcpLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdFx0JCh0aGlzKS5maW5kKFwib3B0aW9uW3ZhbHVlID0gJ1wiICsgc2VsZWN0ZWRWYWx1ZVtpbmRleF0gKyBcIiddXCIpLmF0dHIoXCJzZWxlY3RlZFwiLCBcInNlbGVjdGVkXCIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHJlc3RvcmUgV1lTSVdZRyBlZGl0b3IgY29udGVudHNcblx0XHRcdCRjb3B5LmZpbmQoJy5hY2YtZmllbGQtd3lzaXd5ZyB0ZXh0YXJlYScpLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdFx0JCh0aGlzKS5odG1sKCRlZGl0b3JDb250ZW50W2luZGV4XSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gaW5pdCBmaWVsZHNcblx0XHRcdC8vKi9cblx0XHRcdC8vIGdpdmUgdGhlIGNvcHkgYmFja1xuXHRcdFx0cmV0dXJuICRjb3B5O1xuXG5cdFx0fSxcblx0fSk7XG5cblxufSkoalF1ZXJ5KVxuIl19
