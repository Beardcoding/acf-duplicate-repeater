!function(e){function t(t,a){var n,c,d,l,f,r,o=a.find("[name]").first().attr("name"),s=t.find("[name]").first().attr("name"),h="";for(i=0;i<o.length&&o[i]===s[i];i++)h+=o[i];n=t.attr("data-id"),c="acfcloneindex",d="-"+n+"-",l="-"+c+"-",f=h+n+"]",r=h+c+"]",t.attr("data-id",c),t.find('[id*="'+n+'"]').each(function(){e(this).attr("id",e(this).attr("id").replace(d,l))}),t.find('[name*="'+n+'"]').each(function(){e(this).attr("name",e(this).attr("name").replace(f,r))}),t.find('label[for*="'+n+'"]').each(function(){e(this).attr("for",e(this).attr("for").replace(d,l))}),t.find("textarea.wp-editor-area").each(function(){e(this).attr("id","acf-editor-"+acf.get_uniqid())})}function a(t,a){t.find(".acf-field-wysiwyg").each(function(){var t=e(this).find(".tmce-active textarea.wp-editor-area"),i=t.html(),n=a.find('[data-key="'+e(this).attr("data-key")+'"]');e(this).html(n.html()),e(this).find("textarea.wp-editor-area").html(i)}),t.find(".acf-field-color-picker").each(function(){var t=e(this).find('[type="hidden"]'),i=t.val(),n=a.find('[data-key="'+e(this).attr("data-key")+'"]');e(this).html(n.html()),e(this).find('[type="hidden"]').val(i).next().val(i)})}var n=acf_duplicate_repeater.options,c=e.extend({},acf.fields.repeater),d=e.extend({},acf.fields.flexible_content);acf.fields.flexible_content=acf.fields.flexible_content.extend({events:{'click [data-name="duplicate-layout"]':"_duplicate"},render:function(){var t;return t=d.render.apply(this,arguments),this.$values.children(".layout").each(function(t){e(this).find(".acf-fc-layout-controlls").prepend(n.duplicate_flexible_btn)}),t},_duplicate:function(e){var i,n,c;n=e.$el.closest(".layout"),i=n.attr("data-layout"),c=n.clone(),t(c),a(c,this.$clones.children('.layout[data-layout="'+i+'"]')),c.attr("data-layout","_duplicate").appendTo(this.$clones),this.add("_duplicate",n),c.remove()},get_me:function(){console.log(this)}}),acf.fields.repeater=acf.fields.repeater.extend({events:{'click a[data-event="duplicate-row"]':"_duplicate"},render:function(){var t;return t=c.render.apply(this,arguments),this.$tbody.children().each(function(t){e(this).find("> td.remove").append(n.duplicate_repeater_btn)}),t},_duplicate:function(i){var n,c,d,l,f,r,o;return i.$el.hasClass("acf-icon")&&(c=i.$el.closest(".acf-row")),n=this.$clone,d=c.clone(),l=e("<table />").appendTo("body").append(d),t(d,c.siblings('[data-id="acfcloneindex"]').first()),a(d,c.closest(".acf-table").find("tr.acf-clone")),this.$clone={$el:d,search:"acfcloneindex",replace:!1},r={},c.find("select").each(function(t){r[t]=e(this).val()}),c.find(".acf-field-wysiwyg").each(function(t,a){e(this)}),o={},c.find(".acf-field-wysiwyg iframe").contents().find("body").each(function(t){o[t]=e(this).html()}),f=this.add(c),this.$clone=n,l.remove(),f.find("select").each(function(t){e(this).find("option[value = '"+r[t]+"']").attr("selected","selected")}),f.find(".acf-field-wysiwyg textarea").each(function(t){e(this).html(o[t])}),f}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcGVhdGVyLWR1cGxpY2F0ZS5qcyJdLCJuYW1lcyI6WyIkIiwicmVzZXRfaWRzIiwiJGVsIiwiJHRwbCIsImlkIiwibmV3X2lkIiwic2VhcmNoX2lkIiwicmVwbGFjZV9pZCIsInNlYXJjaF9uYW1lIiwicmVwbGFjZV9uYW1lIiwiY2xvbmVOYW1lIiwiZmluZCIsImZpcnN0IiwiYXR0ciIsImVsTmFtZSIsImNvbW1vblByZWZpeCIsImkiLCJsZW5ndGgiLCJlYWNoIiwidGhpcyIsInJlcGxhY2UiLCJhY2YiLCJnZXRfdW5pcWlkIiwicmVzZXRfZmllbGRzIiwiJGNsb25lX3RlbXBsYXRlIiwiJHRleHRhcmVhIiwicnRlX3ZhbHVlIiwiaHRtbCIsIiR0aGlzX2Nsb25lIiwiJGlucHV0IiwiY29sb3JfdmFsdWUiLCJ2YWwiLCJuZXh0Iiwib3B0aW9ucyIsImFjZl9kdXBsaWNhdGVfcmVwZWF0ZXIiLCJvcmlnX3JlcGVhdGVyIiwiZXh0ZW5kIiwiZmllbGRzIiwicmVwZWF0ZXIiLCJvcmlnX2ZsZXhpYmxlX2NvbnRlbnQiLCJmbGV4aWJsZV9jb250ZW50IiwiZXZlbnRzIiwiY2xpY2sgW2RhdGEtbmFtZT1cImR1cGxpY2F0ZS1sYXlvdXRcIl0iLCJyZW5kZXIiLCJyZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIiR2YWx1ZXMiLCJjaGlsZHJlbiIsInByZXBlbmQiLCJkdXBsaWNhdGVfZmxleGlibGVfYnRuIiwiX2R1cGxpY2F0ZSIsImUiLCJsYXlvdXQiLCIkYmVmb3JlIiwiJGNsb25lIiwiY2xvc2VzdCIsImNsb25lIiwiJGNsb25lcyIsImFwcGVuZFRvIiwiYWRkIiwicmVtb3ZlIiwiZ2V0X21lIiwiY29uc29sZSIsImxvZyIsImNsaWNrIGFbZGF0YS1ldmVudD1cImR1cGxpY2F0ZS1yb3dcIl0iLCIkdGJvZHkiLCJhcHBlbmQiLCJkdXBsaWNhdGVfcmVwZWF0ZXJfYnRuIiwiJHByZXZfY2xvbmUiLCIkcm93IiwiJHRlbXBsYXRlIiwiJHRtcCIsIiRjb3B5Iiwic2VsZWN0ZWRWYWx1ZSIsImVkaXRvckNvbnRlbnQiLCJoYXNDbGFzcyIsInNpYmxpbmdzIiwic2VhcmNoIiwiaW5kZXgiLCJlbCIsImNvbnRlbnRzIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQU1ULFFBQVNDLEdBQVdDLEVBQUtDLEdBRXhCLEdBR0NDLEdBQUlDLEVBQ0pDLEVBQVdDLEVBQ1hDLEVBQWFDLEVBTFZDLEVBQVlQLEVBQUtRLEtBQUssVUFBVUMsUUFBUUMsS0FBSyxRQUNoREMsRUFBU1osRUFBSVMsS0FBSyxVQUFVQyxRQUFRQyxLQUFLLFFBQ3pDRSxFQUFlLEVBS2hCLEtBQU1DLEVBQUUsRUFBRUEsRUFBRU4sRUFBVU8sUUFDaEJQLEVBQVVNLEtBQU9GLEVBQU9FLEdBREFBLElBSTdCRCxHQUFnQkwsRUFBVU0sRUFJM0JaLEdBQUtGLEVBQUlXLEtBQUssV0FDZFIsRUFBUyxnQkFDVEMsRUFBYSxJQUFJRixFQUFHLElBQ3BCRyxFQUFjLElBQUlGLEVBQU8sSUFDekJHLEVBQWVPLEVBQWVYLEVBQUssSUFDbkNLLEVBQWVNLEVBQWVWLEVBQVMsSUFFdkNILEVBQUlXLEtBQUssVUFBV1IsR0FFcEJILEVBQUlTLEtBQUssU0FBV1AsRUFBSyxNQUFNYyxLQUFLLFdBQ25DbEIsRUFBRW1CLE1BQU1OLEtBQUssS0FBTWIsRUFBRW1CLE1BQU1OLEtBQUssTUFBTU8sUUFBU2QsRUFBV0MsTUFJM0RMLEVBQUlTLEtBQUssV0FBYVAsRUFBSyxNQUFNYyxLQUFLLFdBQ3JDbEIsRUFBRW1CLE1BQU1OLEtBQUssT0FBUWIsRUFBRW1CLE1BQU1OLEtBQUssUUFBUU8sUUFBU1osRUFBYUMsTUFJakVQLEVBQUlTLEtBQUssZUFBaUJQLEVBQUssTUFBTWMsS0FBSyxXQUN6Q2xCLEVBQUVtQixNQUFNTixLQUFLLE1BQU9iLEVBQUVtQixNQUFNTixLQUFLLE9BQU9PLFFBQVNkLEVBQVdDLE1BRzdETCxFQUFJUyxLQUFLLDJCQUEyQk8sS0FBSyxXQUN4Q2xCLEVBQUVtQixNQUFNTixLQUFN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QU1ZLFFBR2hDdUMsRUFBSzNELEtBQUssc0JBQXNCTyxLQUFLLFNBQVVGLEVBQUdnRSxHQUNwQ2hGLEVBQUVtQixRQUtoQndELEtBQ0FMLEVBQUszRCxLQUFLLDZCQUE2QnNFLFdBQVd0RSxLQUFLLFFBQVFPLEtBQUssU0FBUzZELEdBQzVFSixFQUFjSSxHQUFTL0UsRUFBRW1CLE1BQU1RLFNBSWhDOEMsRUFBUXRELEtBQUt5QyxJQUFLVSxHQUdsQm5ELEtBQUtvQyxPQUFTYyxFQUNkRyxFQUFLWCxTQUdMWSxFQUFNOUQsS0FBSyxVQUFVTyxLQUFLLFNBQVM2RCxHQUNsQy9FLEVBQUVtQixNQUFNUixLQUFLLG1CQUFxQitELEVBQWNLLEdBQVMsTUFBTWxFLEtBQUssV0FBWSxjQUlqRjRELEVBQU05RCxLQUFLLCtCQUErQk8sS0FBSyxTQUFTNkQsR0FDdkQvRSxFQUFFbUIsTUFBTVEsS0FBS2dELEVBQWNJLE1BTXJCTixNQU1QUyIsImZpbGUiOiJyZXBlYXRlci1kdXBsaWNhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCl7XG5cdHZhciBvcHRpb25zID0gYWNmX2R1cGxpY2F0ZV9yZXBlYXRlci5vcHRpb25zLFxuXHRcdG9yaWdfcmVwZWF0ZXIgPSAkLmV4dGVuZCgge30sIGFjZi5maWVsZHMucmVwZWF0ZXIgKSxcblx0XHRvcmlnX2ZsZXhpYmxlX2NvbnRlbnQgPSAkLmV4dGVuZCgge30sIGFjZi5maWVsZHMuZmxleGlibGVfY29udGVudCApO1xuXG5cblx0ZnVuY3Rpb24gcmVzZXRfaWRzKCAkZWwsICR0cGwgKSB7XG5cdFx0Ly8qXG5cdFx0dmFyIGNsb25lTmFtZSA9ICR0cGwuZmluZCgnW25hbWVdJykuZmlyc3QoKS5hdHRyKCduYW1lJyksXG5cdFx0XHRlbE5hbWUgPSAkZWwuZmluZCgnW25hbWVdJykuZmlyc3QoKS5hdHRyKCduYW1lJyksXG5cdFx0XHRjb21tb25QcmVmaXggPSAnJyxcblx0XHRcdGlkLCBuZXdfaWQsXG5cdFx0XHRzZWFyY2hfaWQsIHJlcGxhY2VfaWQsXG5cdFx0XHRzZWFyY2hfbmFtZSwgcmVwbGFjZV9uYW1lO1xuXG5cdFx0Zm9yICggaT0wO2k8Y2xvbmVOYW1lLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0aWYgKCBjbG9uZU5hbWVbaV0gIT09IGVsTmFtZVtpXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRjb21tb25QcmVmaXggKz0gY2xvbmVOYW1lW2ldO1xuXHRcdH1cblxuXHRcdC8vKi9cblx0XHRpZCA9ICRlbC5hdHRyKCdkYXRhLWlkJyk7XG5cdFx0bmV3X2lkID0gJ2FjZmNsb25laW5kZXgnO1xuXHRcdHNlYXJjaF9pZFx0XHQ9ICctJytpZCsnLSc7XG5cdFx0cmVwbGFjZV9pZFx0XHQ9ICctJytuZXdfaWQrJy0nO1xuXHRcdHNlYXJjaF9uYW1lIFx0PSBjb21tb25QcmVmaXggKyBpZCArICddJztcblx0XHRyZXBsYWNlX25hbWVcdD0gY29tbW9uUHJlZml4ICsgbmV3X2lkICsgJ10nO1xuXG5cdFx0JGVsLmF0dHIoJ2RhdGEtaWQnLCBuZXdfaWQgKTtcblx0XHQvLyByZXBsYWNlIGlkc1xuXHRcdCRlbC5maW5kKCdbaWQqPVwiJyArIGlkICsgJ1wiXScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdCQodGhpcykuYXR0cignaWQnLCAkKHRoaXMpLmF0dHIoJ2lkJykucmVwbGFjZSggc2VhcmNoX2lkLCByZXBsYWNlX2lkICkgKTtcblx0XHR9KTtcblxuXHRcdC8vIHJlcGxhY2UgbmFtZXNcblx0XHQkZWwuZmluZCgnW25hbWUqPVwiJyArIGlkICsgJ1wiXScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdCQodGhpcykuYXR0cignbmFtZScsICQodGhpcykuYXR0cignbmFtZScpLnJlcGxhY2UoIHNlYXJjaF9uYW1lLCByZXBsYWNlX25hbWUgKSApO1xuXHRcdH0pO1xuXG5cdFx0Ly8gcmVwbGFjZSBsYWJlbCBmb3Jcblx0XHQkZWwuZmluZCgnbGFiZWxbZm9yKj1cIicgKyBpZCArICdcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHQkKHRoaXMpLmF0dHIoJ2ZvcicsICQodGhpcykuYXR0cignZm9yJykucmVwbGFjZSggc2VhcmNoX2lkLCByZXBsYWNlX2lkICkgKTtcblx0XHR9KTtcblx0XHQvLyovXG5cdFx0JGVsLmZpbmQoJ3RleHRhcmVhLndwLWVkaXRvci1hcmVhJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0JCh0aGlzKS5hdHRyKCAnaWQnLCAnYWNmLWVkaXRvci0nICsgYWNmLmdldF91bmlxaWQoKSApO1xuXHRcdH0pO1xuXG5cblx0XHQvKlxuXHRcdERVUExJQ0FURTpcblx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImFjZi1maWVsZF81YTJkYjgyMjY0Zjk5LTVhODFiYmMyMTBlMDktZmllbGRfNWEyZGI4MzI2NGY5YS0wLWZpZWxkXzVhMmRiOTYzYTdjNjFcIiBuYW1lPVwiYWNmW2ZpZWxkXzVhMmRiODIyNjRmOTldWzVhODFiYmMyMTBlMDldW2ZpZWxkXzVhMmRiODMyNjRmOWFdWzBdW2ZpZWxkXzVhMmRiOTYzYTdjNjFdXCIgcGxhY2Vob2xkZXI9XCIwMDowMFwiIG1heGxlbmd0aD1cIjVcIj5cblxuXHRcdE5FVzpcblx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImFjZi1maWVsZF81YTJkYjgyMjY0Zjk5LTAtZmllbGRfNWEyZGI4MzI2NGY5YS01YTgxYmNiNjEwZTBhLWZpZWxkXzVhMmRiOTYzYTdjNjFcIiBuYW1lPVwiYWNmW2ZpZWxkXzVhMmRiODIyNjRmOTldWzBdW2ZpZWxkXzVhMmRiODMyNjRmOWFdWzVhODFiY2I2MTBlMGFdW2ZpZWxkXzVhMmRiOTYzYTdjNjFdXCIgcGxhY2Vob2xkZXI9XCIwMDowMFwiIG1heGxlbmd0aD1cIjVcIj5cblxuXHRcdENMT05FSU5ERVhcblx0XHQ8aW5wdXQgbmFtZT1cImFjZltmaWVsZF81YTJkYjgyMjY0Zjk5XVswXVtmaWVsZF81YTJkYjgzMjY0ZjlhXVthY2ZjbG9uZWluZGV4XVtmaWVsZF81YTJkYjg0MzY0ZjliXVwiIHR5cGU9XCJoaWRkZW5cIiBkaXNhYmxlZD1cIlwiPlxuXHRcdCovXG5cblxuXHR9XG5cblx0ZnVuY3Rpb24gcmVzZXRfZmllbGRzKCAkZWwsICRjbG9uZV90ZW1wbGF0ZSApIHtcblxuXHRcdC8vIHJpY2ggdGV4dCBlZGl0b3Jcblx0XHQkZWwuZmluZCgnLmFjZi1maWVsZC13eXNpd3lnJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0dmFyICR0ZXh0YXJlYSA9ICQodGhpcykuZmluZCgnLnRtY2UtYWN0aXZlIHRleHRhcmVhLndwLWVkaXRvci1hcmVhJyksXG5cdFx0XHRcdHJ0ZV92YWx1ZSA9ICR0ZXh0YXJlYS5odG1sKCksXG5cdFx0XHRcdCR0aGlzX2Nsb25lID0gJGNsb25lX3RlbXBsYXRlLmZpbmQoJ1tkYXRhLWtleT1cIicrICQodGhpcykuYXR0cignZGF0YS1rZXknKSArJ1wiXScpO1xuXG5cdFx0XHQkKHRoaXMpLmh0bWwoICR0aGlzX2Nsb25lLmh0bWwoKSApO1xuXG5cdFx0XHQkKHRoaXMpLmZpbmQoJ3RleHRhcmVhLndwLWVkaXRvci1hcmVhJykuaHRtbCggcnRlX3ZhbHVlICk7XG5cblx0XHR9KTtcblxuXHRcdC8vIGNvbG9yIHBpY2tlclxuXHRcdCRlbC5maW5kKCcuYWNmLWZpZWxkLWNvbG9yLXBpY2tlcicpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpLmZpbmQoJ1t0eXBlPVwiaGlkZGVuXCJdJyksXG5cdFx0XHRcdGNvbG9yX3ZhbHVlID0gJGlucHV0LnZhbCgpLFxuXHRcdFx0XHQkdGhpc19jbG9uZSA9ICRjbG9uZV90ZW1wbGF0ZS5maW5kKCdbZGF0YS1rZXk9XCInKyAkKHRoaXMpLmF0dHIoJ2RhdGEta2V5JykgKydcIl0nKTtcblxuXHRcdFx0JCh0aGlzKS5odG1sKCAkdGhpc19jbG9uZS5odG1sKCkgKTtcblxuXHRcdFx0JCh0aGlzKS5maW5kKCdbdHlwZT1cImhpZGRlblwiXScpLnZhbCggY29sb3JfdmFsdWUgKS5uZXh0KCkudmFsKCBjb2xvcl92YWx1ZSApO1xuXG5cdFx0fSk7XG5cdH1cblxuXG5cdGFjZi5maWVsZHMuZmxleGlibGVfY29udGVudCA9IGFjZi5maWVsZHMuZmxleGlibGVfY29udGVudC5leHRlbmQoe1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIFtkYXRhLW5hbWU9XCJkdXBsaWNhdGUtbGF5b3V0XCJdJzogJ19kdXBsaWNhdGUnXG5cdFx0fSxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgcmV0O1xuXG5cdFx0XHRyZXQgPSBvcmlnX2ZsZXhpYmxlX2NvbnRlbnQucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gdXBkYXRlIG9yZGVyIG51bWJlcnNcblx0XHRcdHRoaXMuJHZhbHVlcy5jaGlsZHJlbignLmxheW91dCcpLmVhY2goZnVuY3Rpb24oIGkgKXtcblx0XHRcdFx0JCh0aGlzKS5maW5kKCcuYWNmLWZjLWxheW91dC1jb250cm9sbHMnKS5wcmVwZW5kKCBvcHRpb25zLmR1cGxpY2F0ZV9mbGV4aWJsZV9idG4gKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0X2R1cGxpY2F0ZTogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHR2YXIgbGF5b3V0LFxuXHRcdFx0XHQkYmVmb3JlLFxuXHRcdFx0XHQkY2xvbmUsXG5cdFx0XHRcdCRsYXlvdXRfdGVtcGxhdGU7XG5cblx0XHRcdCRiZWZvcmUgPSBlLiRlbC5jbG9zZXN0KCcubGF5b3V0Jyk7XG5cblx0XHRcdGxheW91dCA9ICRiZWZvcmUuYXR0ciggJ2RhdGEtbGF5b3V0JyApO1xuXG5cdFx0XHQkY2xvbmUgPSAkYmVmb3JlLmNsb25lKCk7XG5cblx0XHRcdHJlc2V0X2lkcyggJGNsb25lICk7XG5cblx0XHRcdHJlc2V0X2ZpZWxkcyggJGNsb25lLCB0aGlzLiRjbG9uZXMuY2hpbGRyZW4oJy5sYXlvdXRbZGF0YS1sYXlvdXQ9XCInICsgbGF5b3V0ICsgJ1wiXScpICk7XG5cblx0XHRcdCRjbG9uZS5hdHRyKCAnZGF0YS1sYXlvdXQnLCAnX2R1cGxpY2F0ZScgKS5hcHBlbmRUbyh0aGlzLiRjbG9uZXMpO1xuXG5cdFx0XHR0aGlzLmFkZCggJ19kdXBsaWNhdGUnLCAkYmVmb3JlICk7XG5cblx0XHRcdCRjbG9uZS5yZW1vdmUoKTtcblxuXHRcdH0sXG5cdFx0Z2V0X21lOmZ1bmN0aW9uKCl7XG5cdFx0XHRjb25zb2xlLmxvZyh0aGlzKTtcblx0XHR9XG5cdH0pO1xuXG5cdGFjZi5maWVsZHMucmVwZWF0ZXIgPSBhY2YuZmllbGRzLnJlcGVhdGVyLmV4dGVuZCh7XG5cdFx0ZXZlbnRzOiB7XG5cdFx0XHQnY2xpY2sgYVtkYXRhLWV2ZW50PVwiZHVwbGljYXRlLXJvd1wiXSc6ICdfZHVwbGljYXRlJ1xuXHRcdH0sXG5cblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgcmV0O1xuXG5cdFx0XHRyZXQgPSBvcmlnX3JlcGVhdGVyLnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIHVwZGF0ZSBvcmRlciBudW1iZXJzXG5cdFx0XHR0aGlzLiR0Ym9keS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oaSl7XG5cdFx0XHRcdCQodGhpcykuZmluZCgnPiB0ZC5yZW1vdmUnKS5hcHBlbmQoIG9wdGlvbnMuZHVwbGljYXRlX3JlcGVhdGVyX2J0biApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblxuXHRcdF9kdXBsaWNhdGU6IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHR2YXIgJHByZXZfY2xvbmUsXG5cdFx0XHRcdGlkLCB1bmlxdWlkLFxuXHRcdFx0XHQkcm93LFxuXHRcdFx0XHQkdGVtcGxhdGUsICR0bXAsXG5cdFx0XHRcdCRjb3B5LFxuXG5cdFx0XHRcdHNlbGVjdGVkVmFsdWUsXG5cdFx0XHRcdGVkaXRvckNvbnRlbnQ7XG5cdFx0XHQvLyB2YXJzXG5cblxuXHRcdFx0Ly8gYWRkIGJlZm9yZSByb3dcblx0XHRcdGlmKCBlLiRlbC5oYXNDbGFzcygnYWNmLWljb24nKSApIHtcblx0XHRcdFx0JHJvdyA9IGUuJGVsLmNsb3Nlc3QoJy5hY2Ytcm93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2t1cCBhY2YgY2xvbmUgb3B0aW9uc1xuXHRcdFx0JHByZXZfY2xvbmUgPSB0aGlzLiRjbG9uZTtcblxuXHRcdFx0JHRlbXBsYXRlID0gJHJvdy5jbG9uZSgpO1xuXHRcdFx0JHRtcCA9ICQoJzx0YWJsZSAvPicpLmFwcGVuZFRvKCdib2R5JykuYXBwZW5kKCAkdGVtcGxhdGUgKTtcblxuXHRcdFx0cmVzZXRfaWRzKCAkdGVtcGxhdGUsICRyb3cuc2libGluZ3MoJ1tkYXRhLWlkPVwiYWNmY2xvbmVpbmRleFwiXScpLmZpcnN0KCkgKTtcblxuXG5cdFx0XHRyZXNldF9maWVsZHMoICR0ZW1wbGF0ZSwgJHJvdy5jbG9zZXN0KCcuYWNmLXRhYmxlJykuZmluZCgndHIuYWNmLWNsb25lJykgKTtcblxuXHRcdFx0Ly8gZmFrZSBhY2YuY2xvbmUoKSBjdXJyZW50IHJvd1xuXHRcdFx0dGhpcy4kY2xvbmUgPSB7XG5cdFx0XHRcdCckZWwnXHRcdDogJHRlbXBsYXRlLFxuXHRcdFx0XHQnc2VhcmNoJ1x0OiAnYWNmY2xvbmVpbmRleCcsXG5cdFx0XHRcdCdyZXBsYWNlJ1x0OiBmYWxzZSxcblx0XHRcdH07XG5cblx0XHRcdC8vIGdldCBzZWxlY3Rpb24tZmllbGQgdmFsdWVzLCBiZWNhdXNlIHRoZXNlIGFyZW4ndCBjb3BpZWQgYnkgZGVmYXVsdFxuXHRcdFx0Ly8gc2VlOiBodHRwczovL2FwaS5qcXVlcnkuY29tL2Nsb25lLyNlbnRyeS1sb25nZGVzY1xuXHRcdFx0c2VsZWN0ZWRWYWx1ZSA9IHt9O1xuXHRcdFx0JHJvdy5maW5kKCdzZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XHRcdHNlbGVjdGVkVmFsdWVbaW5kZXhdID0gJCh0aGlzKS52YWwoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkcm93LmZpbmQoJy5hY2YtZmllbGQtd3lzaXd5ZycpLmVhY2goZnVuY3Rpb24oIGksIGVsICkge1xuXHRcdFx0XHR2YXIgJGZpZWxkID0gJCh0aGlzKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBnZXQgd3lzaXd5Zy1maWVsZCB2YWx1ZXMsIGJlY2F1c2UgdGhlc2UgYXJlbid0IGNvcGllZCBieSBkZWZhdWx0XG5cdFx0XHQvLyBzZWU6IGh0dHBzOi8vYXBpLmpxdWVyeS5jb20vY2xvbmUvI2VudHJ5LWxvbmdkZXNjXG5cdFx0XHRlZGl0b3JDb250ZW50ID0ge307XG5cdFx0XHQkcm93LmZpbmQoJy5hY2YtZmllbGQtd3lzaXd5ZyBpZnJhbWUnKS5jb250ZW50cygpLmZpbmQoXCJib2R5XCIpLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcdFx0ZWRpdG9yQ29udGVudFtpbmRleF0gPSAkKHRoaXMpLmh0bWwoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBtYWtlIGNvcHlcblx0XHRcdCRjb3B5ID0gdGhpcy5hZGQoICRyb3cgKTtcblxuXHRcdFx0Ly8gcmVzdG9yZSBhY2YgY2xvbmUgb3B0aW9uc1xuXHRcdFx0dGhpcy4kY2xvbmUgPSAkcHJldl9jbG9uZTtcblx0XHRcdCR0bXAucmVtb3ZlKCk7XG5cblx0XHRcdC8vIHJlc3RvcmUgc2VsZWN0aW9uIHZhbHVlc1xuXHRcdFx0JGNvcHkuZmluZCgnc2VsZWN0JykuZWFjaChmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0XHQkKHRoaXMpLmZpbmQoXCJvcHRpb25bdmFsdWUgPSAnXCIgKyBzZWxlY3RlZFZhbHVlW2luZGV4XSArIFwiJ11cIikuYXR0cihcInNlbGVjdGVkXCIsIFwic2VsZWN0ZWRcIik7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gcmVzdG9yZSBXWVNJV1lHIGVkaXRvciBjb250ZW50c1xuXHRcdFx0JGNvcHkuZmluZCgnLmFjZi1maWVsZC13eXNpd3lnIHRleHRhcmVhJykuZWFjaChmdW5jdGlvbihpbmRleCkge1xuXHRcdFx0XHQkKHRoaXMpLmh0bWwoZWRpdG9yQ29udGVudFtpbmRleF0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGluaXQgZmllbGRzXG5cdFx0XHQvLyovXG5cdFx0XHQvLyBnaXZlIHRoZSBjb3B5IGJhY2tcblx0XHRcdHJldHVybiAkY29weTtcblxuXHRcdH0sXG5cdH0pO1xuXG5cbn0pKGpRdWVyeSlcbiJdfQ==
